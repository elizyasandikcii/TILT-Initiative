<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>The Initiative for Life and Thoughts - TILT</title>

    <!-- Chart.js for stock charts -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />

    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

    <!-- Favicon -->
    <link rel="icon" href="https://raw.githubusercontent.com/elizyasandikcii/TILT-Initiative/3802bf8741f027b4bfeaf7c6daf9f2223e1aeb1e/logokas%CC%A7e.png" type="image/png" />

    <!-- Custom CSS -->
    <link rel="stylesheet" href="index.css">

    <!-- Scripts -->
    <script src="script.js" defer></script>
    <script src="quote-script.js" defer></script>
</head>
<body>
    <header id="main-header">
        <div class="header-container">
            <div class="logo">
                <img src="https://raw.githubusercontent.com/elizyasandikcii/TILT-Initiative/3802bf8741f027b4bfeaf7c6daf9f2223e1aeb1e/logokas%CC%A7e.png" alt="TILT Logo" class="logo-image">
            </div>
            <nav>
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="about.html">About</a></li>
                    <li><a href="projects.html">Projects</a></li>
                    <li><a href="blog.html">Blog</a></li>
                    <li><a href="get-involved.html">Get Involved</a></li>
                    <li><a href="contact-us.html">Contact Us</a></li>
                    <li><a href="tilt.html" class="more-tilt">More from TILT</a></li>
                </ul>
            </nav>
            <div class="header-controls">
                <div class="language-selector">
                    <button class="language-btn">EN</button>
                    <div class="language-menu">
                        <a href="index.html">üá¨üáß English</a>
                        <a href="index-tr.html">üáπüá∑ T√ºrk√ße</a>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <main>
        <div class="content-columns">
            <div class="content-column">
                <section id="top" class="upcoming-episodes">
                    <h2>TILT - The Initiative for Life and Thoughts</h2>
                    <p>A Youth-Led Initiative led by no one but world citizen teens! </p>
                    <div class="hero-image-container">
                        <img src="https://raw.githubusercontent.com/elizyasandikcii/TILT-Initiative/refs/heads/main/placeholder%20(1).jpg" alt="TILT Initiative" class="hero-image">
                    </div>
                    <p>The Initiative for Life and Thoughts (TILT) is dedicated to creating spaces for reflection, dialogue, and action on the most pressing questions of our time. We bring together every teen with ideas with our school clubs, production studios and more!</p>
                    <a href="about.html" class="learn-more">Learn more about TILT...</a>
                </section>
            </div>
            
            <div class="content-column">
                <section class="newsflash">
                    <!-- QUOTE SECTION - KEEPS yellow border -->
                    <div class="quote-section">
                        <h2>QUOTE OF THE DAY</h2>
                        <blockquote>
                            "The unexamined life is not worth living."
                            <span class="quote-author">- Socrates</span>
                        </blockquote>
                    </div>
                    
                    <!-- BLOG SECTION - NO yellow border -->
                    <div class="blog-section">
                        <h2>LATEST BLOG</h2>
                        <h3>TILT's Future</h3>
                        <p>TILT's second anniversary is on its way, and we have really exciting plans for this year! We have a whole lot of new projects and I'm proud to introduce you to some of these projects...</p>
                        <a href="blog.html" class="learn-more">Read more...</a>
                        
                        <div class="update-info">
                           By: Elizya 
                            31 August 2025
                        </div>
                    </div>
                </section>
            </div>
        </div>

        <!-- Hero Section - FIXED Title Color -->
        <section class="tilt-hero-section">
            <div class="tilt-hero-header">
                <span class="tilt-badge">Youth-Led Initiative</span>
                <h2>Where Neuroscience Meets Sustainability</h2>
                <p class="tilt-hero-subtitle">TILT empowers young minds to transform bold ideas into data-driven solutions that shape a more equal, beautiful, and sustainable world.</p>
            </div>
            
            <div class="tilt-stats">
                <div class="stat-item">
                    <span class="stat-number">7+</span>
                    <span class="stat-label">Active Projects</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number">20+</span>
                    <span class="stat-label">Team Members</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number">2</span>
                    <span class="stat-label">Years of Impact</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number">‚àû</span>
                    <span class="stat-label">Dreams to Build</span>
                </div>
            </div>
            
            <div class="tilt-hero-cta">
                <a href="about.html" class="hero-btn primary">
                    <span>Learn More About TILT</span>
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                        <path d="M5 12H19M19 12L12 5M19 12L12 19" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </a>
                <a href="get-involved.html" class="hero-btn secondary">
                    <span>Get Involved</span>
                </a>
            </div>
        </section>

        <!-- Calendar Section -->
        <section class="calendar-container">
            <div class="calendar-header">
                <h2 id="calendar-month-year">Month Year</h2>
                <div class="calendar-nav">
                    <button id="prev-month">&lt; Prev</button>
                    <button id="today">Today</button>
                    <button id="next-month">Next &gt;</button>
                </div>
            </div>
            <table id="calendar" class="calendar">
                <thead>
                    <tr>
                        <th>Sun</th>
                        <th>Mon</th>
                        <th>Tue</th>
                        <th>Wed</th>
                        <th>Thu</th>
                        <th>Fri</th>
                        <th>Sat</th>
                    </tr>
                </thead>
                <tbody id="calendar-body">
                    <!-- Calendar will be generated by JavaScript -->
                </tbody>
            </table>
        </section>

        <!-- News Section -->
        <section id="news" class="news-section">
            <div class="news-header">
                <h2>
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2"></path>
                        <path d="M18 14h-8"></path>
                        <path d="M15 18h-5"></path>
                        <path d="M10 6h8v4h-8V6Z"></path>
                    </svg>
                    Latest News from New York Times
                </h2>
                <button class="refresh-btn" id="refresh-news">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M21 12a9 9 0 0 1-9 9m9-9a9 9 0 0 0-9-9m9 9H3m9 9a9 9 0 0 1-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 0 1 9-9"></path>
                    </svg>
                    Refresh
                </button>
            </div>
            <div class="news-grid" id="news-container">
                <div class="loading">Loading news...</div>
            </div>
        </section>

        <!-- Stock Market Section -->
        <section id="stocks" class="stocks-section">
            <div class="stocks-header">
                <h2>
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M3 3v16a2 2 0 0 0 2 2h16"></path>
                        <path d="M7 14l4-4 4 4 6-6"></path>
                        <path d="M18 8h3v3"></path>
                    </svg>
                    Stock Market Data
                </h2>
                <div class="stock-controls">
                    <select id="stock-select" class="stock-select">
                        <option value="AAPL">Apple (AAPL)</option>
                        <option value="MSFT">Microsoft (MSFT)</option>
                        <option value="GOOGL">Google (GOOGL)</option>
                        <option value="AMZN">Amazon (AMZN)</option>
                        <option value="TSLA">Tesla (TSLA)</option>
                        <option value="SPY">S&P 500 (SPY)</option>
                    </select>
                    <select id="timeframe-select" class="timeframe-select">
                        <option value="TIME_SERIES_DAILY">Daily</option>
                        <option value="TIME_SERIES_WEEKLY">Weekly</option>
                        <option value="TIME_SERIES_MONTHLY">Monthly</option>
                    </select>
                    <button class="refresh-btn" id="refresh-stocks">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M21 12a9 9 0 0 1-9 9m9-9a9 9 0 0 0-9-9m9 9H3m9 9a9 9 0 0 1-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 0 1 9-9"></path>
                        </svg>
                        Refresh
                    </button>
                </div>
            </div>
            <div class="chart-container">
                <canvas id="stock-chart"></canvas>
            </div>
             <div class="stock-info" id="stock-info">
                <div class="stock-price" id="stock-price">Loading...</div>
                <div class="stock-change" id="stock-change">
                    <span id="change-amount">--</span>
                    <span id="change-percent">(--)</span>
                </div>
            </div>
        </section>
       
        <!-- Map and Clocks Section -->
        <section id="map" class="map-clocks-section">
            <div class="map-container" id="satellite-map"></div>
            
            <div class="clocks-container">
                <div class="clock-card">
                    <div class="clock-flag">üá∫üá∏</div>
                    <div class="clock-city">New York</div>
                    <div class="clock-time" id="time-ny">--:--:--</div>
                    <div class="clock-date" id="date-ny">--</div>
                </div>
                
                <div class="clock-card">
                    <div class="clock-flag">üáπüá∑</div>
                    <div class="clock-city">Istanbul</div>
                    <div class="clock-time" id="time-istanbul">--:--:--</div>
                    <div class="clock-date" id="date-istanbul">--</div>
                </div>
                
                <div class="clock-card">
                    <div class="clock-flag">üá¨üáß</div>
                    <div class="clock-city">London</div>
                    <div class="clock-time" id="time-london">--:--:--</div>
                    <div class="clock-date" id="date-london">--</div>
                </div>
                
                <div class="clock-card">
                    <div class="clock-flag">üáØüáµ</div>
                    <div class="clock-city">Tokyo</div>
                    <div class="clock-time" id="time-tokyo">--:--:--</div>
                    <div class="clock-date" id="date-tokyo">--</div>
                </div>
            </div>
        </section>

        <section class="blog-highlights">
            <h2>From Our Blog</h2>
            <div class="blog-teasers">
                <div class="blog-teaser">
                    <span class="teaser-date">Aug 31, 2025</span>
                    <h4>TILT's Future</h4>
                    <p>Exciting plans for our second anniversary year...</p>
                    <a href="blog-5.html" class="read-teaser">Read more ‚Üí</a>
                </div>
                <div class="blog-teaser">
                    <span class="teaser-date">Apr 8, 2025</span>
                    <h4>From Soil to Circuit</h4>
                    <p>Building EcoFrame: Our environmental prediction tool...</p>
                    <a href="blog-4.html" class="read-teaser">Read more ‚Üí</a>
                </div>
            </div>
        </section>

        <section id="doodleden" class="doodle-den-section">
            <div class="section-header">
                <h2>
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path>
                        <path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path>
                    </svg>
                    Doodle Den
                </h2>
                <p>Unleash your creativity with our drawing tools</p>
            </div>
            
            <div class="doodle-container">
                <canvas id="doodle-canvas" width="800" height="500"></canvas>
                
                <div class="doodle-controls">
                    <div class="tools-row">
                        <div class="tool-group">
                            <h3>Pens & Tools</h3>
                            <div class="tool-buttons">
                                <button class="tool-btn active" data-tool="ballpoint" title="Ballpoint Pen">
                                    <span class="tool-icon">‚Ä¢</span> Ballpoint
                                </button>
                                <button class="tool-btn" data-tool="pencil" title="Pencil">
                                    <span class="tool-icon">‚úèÔ∏è</span> Pencil
                                </button>
                                <button class="tool-btn" data-tool="marker" title="Marker">
                                    <span class="tool-icon">üñäÔ∏è</span> Marker
                                </button>
                                <button class="tool-btn" data-tool="brush" title="Paint Brush">
                                    <span class="tool-icon">üñåÔ∏è</span> Brush
                                </button>
                            </div>
                        </div>
                        
                        <div class="tool-group">
                            <h3>Line Width</h3>
                            <input type="range" id="brush-size" min="1" max="50" value="5">
                            <span id="brush-size-value">5px</span>
                        </div>
                    </div>
                    
                    <div class="tools-row">
                        <div class="tool-group color-palette">
                            <h3>Colors</h3>
                            <div class="colors-grid">
                                <div class="color-option" data-color="#000000" style="background-color: #000000;"></div>
                                <div class="color-option" data-color="#ff0000" style="background-color: #ff0000;"></div>
                                <div class="color-option" data-color="#ff9900" style="background-color: #ff9900;"></div>
                                <div class="color-option" data-color="#ffff00" style="background-color: #ffff00;"></div>
                                <div class="color-option" data-color="#00ff00" style="background-color: #00ff00;"></div>
                                <div class="color-option" data-color="#00ffff" style="background-color: #00ffff;"></div>
                                <div class="color-option" data-color="#0000ff" style="background-color: #0000ff;"></div>
                                <div class="color-option" data-color="#9900ff" style="background-color: #9900ff;"></div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="tools-row">
                        <div class="tool-group actions">
                            <button id="clear-canvas" class="action-btn">üßπ Clear Canvas</button>
                            <button id="save-doodle" class="action-btn">üíæ Save Drawing</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="contact-prompt">
            <div class="prompt-content">
                <div class="prompt-icon">üí≠</div>
                <h3>Have an idea or question?</h3>
                <p>We're always excited to connect with potential collaborators and curious minds.</p>
                <a href="contact-us.html" class="contact-cta">Reach Out ‚Üí</a>
            </div>
        </section>
    </main>

    <footer>
        <div class="social-links">
            <a href="https://www.instagram.com/tilt_initiative" target="_blank" class="social-link">
                <svg class="social-icon" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/>
                </svg>
            </a>
            <a href="https://linkedin.com" target="_blank" class="social-link">
                <svg class="social-icon" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
                </svg>
            </a>
        </div>
        <p>¬© 2025 TILT ‚Äì The Initiative for Life and Thoughts</p>
        <p>Designed with 8.6 billion neurons and a dream</p>
    </footer>

    <button class="scroll-to-top" id="scrollToTop" aria-label="Scroll to top">
        <svg class="scroll-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M5 10l7-7m0 0l7 7m-7-7v18"/>
        </svg>
    </button>

    <script>
        // ===========================================
        // NAVIGATION FIXES
        // ===========================================
        
        // Remove active class from Contact Us and add it to Home
        document.querySelector('nav a[href="contact-us.html"]').classList.remove('active');
        document.querySelector('nav a[href="index.html"]').classList.add('active');
        
        // Make all navigation links work properly
        document.querySelectorAll('nav a').forEach(link => {
            link.addEventListener('click', function(e) {
                // Remove active class from all links
                document.querySelectorAll('nav a').forEach(a => a.classList.remove('active'));
                // Add active class to clicked link
                this.classList.add('active');
            });
        });
        
        // ===========================================
        // SCROLL TO TOP
        // ===========================================
        const scrollToTopBtn = document.getElementById('scrollToTop');
        
        window.addEventListener('scroll', () => {
            if (window.scrollY > 300) {
                scrollToTopBtn.classList.add('visible');
            } else {
                scrollToTopBtn.classList.remove('visible');
            }
        });
        
        scrollToTopBtn.addEventListener('click', () => {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        });
        
        // ===========================================
        // CALENDAR FUNCTIONALITY
        // ===========================================
        const calendarBody = document.getElementById('calendar-body');
        const monthYearDisplay = document.getElementById('calendar-month-year');
        const prevMonthBtn = document.getElementById('prev-month');
        const nextMonthBtn = document.getElementById('next-month');
        const todayBtn = document.getElementById('today');
        
        let currentDate = new Date();
        
        function renderCalendar(date) {
            const year = date.getFullYear();
            const month = date.getMonth();
            
            // Update month/year display
            const monthNames = [
                "January", "February", "March", "April", "May", "June",
                "July", "August", "September", "October", "November", "December"
            ];
            monthYearDisplay.textContent = `${monthNames[month]} ${year}`;
            
            // Clear calendar
            calendarBody.innerHTML = '';
            
            // Get first day of month and total days
            const firstDay = new Date(year, month, 1).getDay();
            const daysInMonth = new Date(year, month + 1, 0).getDate();
            
            // Create calendar cells
            let day = 1;
            for (let i = 0; i < 6; i++) {
                const row = document.createElement('tr');
                
                for (let j = 0; j < 7; j++) {
                    const cell = document.createElement('td');
                    
                    if (i === 0 && j < firstDay) {
                        // Empty cells before first day
                        cell.textContent = '';
                    } else if (day > daysInMonth) {
                        // Empty cells after last day
                        cell.textContent = '';
                    } else {
                        cell.textContent = day;
                        
                        // Highlight today
                        const today = new Date();
                        if (day === today.getDate() && 
                            month === today.getMonth() && 
                            year === today.getFullYear()) {
                            cell.classList.add('today');
                        }
                        
                        day++;
                    }
                    
                    row.appendChild(cell);
                }
                
                calendarBody.appendChild(row);
                
                if (day > daysInMonth) break;
            }
        }
        
        // Initialize calendar
        renderCalendar(currentDate);
        
        // Event listeners for calendar navigation
        prevMonthBtn.addEventListener('click', () => {
            currentDate.setMonth(currentDate.getMonth() - 1);
            renderCalendar(currentDate);
        });
        
        nextMonthBtn.addEventListener('click', () => {
            currentDate.setMonth(currentDate.getMonth() + 1);
            renderCalendar(currentDate);
        });
        
        todayBtn.addEventListener('click', () => {
            currentDate = new Date();
            renderCalendar(currentDate);
        });
        
        // ===========================================
        // DOODLE DEN FUNCTIONALITY
        // ===========================================
        const canvas = document.getElementById('doodle-canvas');
        const ctx = canvas.getContext('2d');
        const brushSizeInput = document.getElementById('brush-size');
        const brushSizeValue = document.getElementById('brush-size-value');
        const colorOptions = document.querySelectorAll('.color-option');
        const toolButtons = document.querySelectorAll('.tool-btn');
        const clearCanvasBtn = document.getElementById('clear-canvas');
        
        let isDrawing = false;
        let lastX = 0;
        let lastY = 0;
        let currentColor = '#000000';
        let currentTool = 'ballpoint';
        let lineWidth = 5;
        
        // Set canvas background to white
        ctx.fillStyle = '#ffffff';
        ctx.fillRect(0, 0, canvas.width, canvas.height);
        
        // Update brush size display
        brushSizeInput.addEventListener('input', () => {
            lineWidth = brushSizeInput.value;
            brushSizeValue.textContent = `${lineWidth}px`;
        });
        
        // Color selection
        colorOptions.forEach(option => {
            option.addEventListener('click', () => {
                currentColor = option.dataset.color;
                colorOptions.forEach(opt => opt.classList.remove('active'));
                option.classList.add('active');
            });
        });
        
        // Tool selection
        toolButtons.forEach(button => {
            button.addEventListener('click', () => {
                toolButtons.forEach(btn => btn.classList.remove('active'));
                button.classList.add('active');
                currentTool = button.dataset.tool;
            });
        });
        
        // Drawing functions
        function startDrawing(e) {
            isDrawing = true;
            [lastX, lastY] = [e.offsetX, e.offsetY];
        }
        
        function draw(e) {
            if (!isDrawing) return;
            
            ctx.beginPath();
            ctx.moveTo(lastX, lastY);
            ctx.lineTo(e.offsetX, e.offsetY);
            ctx.strokeStyle = currentColor;
            ctx.lineWidth = lineWidth;
            ctx.lineCap = 'round';
            ctx.lineJoin = 'round';
            
            // Tool-specific adjustments
            switch(currentTool) {
                case 'pencil':
                    ctx.globalAlpha = 0.7;
                    ctx.lineWidth = lineWidth * 0.8;
                    break;
                case 'marker':
                    ctx.globalAlpha = 0.9;
                    ctx.lineWidth = lineWidth * 1.2;
                    break;
                case 'brush':
                    ctx.globalAlpha = 0.8;
                    break;
                case 'eraser':
                    ctx.strokeStyle = '#ffffff';
                    ctx.lineWidth = lineWidth * 2;
                    break;
                default:
                    ctx.globalAlpha = 1;
            }
            
            ctx.stroke();
            ctx.globalAlpha = 1;
            
            [lastX, lastY] = [e.offsetX, e.offsetY];
        }
        
        function stopDrawing() {
            isDrawing = false;
        }
        
        // Event listeners for drawing
        canvas.addEventListener('mousedown', startDrawing);
        canvas.addEventListener('mousemove', draw);
        canvas.addEventListener('mouseup', stopDrawing);
        canvas.addEventListener('mouseout', stopDrawing);
        
        // Clear canvas
        clearCanvasBtn.addEventListener('click', () => {
            ctx.fillStyle = '#ffffff';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
        });
        
        // Save doodle
        document.getElementById('save-doodle').addEventListener('click', () => {
            const link = document.createElement('a');
            link.download = 'tilt-doodle.png';
            link.href = canvas.toDataURL('image/png');
            link.click();
        });
        
        // ===========================================
        // WORLD CLOCKS
        // ===========================================
        function updateClocks() {
            const cities = [
                { id: 'ny', city: 'New York', offset: -5 },
                { id: 'istanbul', city: 'Istanbul', offset: 3 },
                { id: 'london', city: 'London', offset: 0 },
                { id: 'tokyo', city: 'Tokyo', offset: 9 }
            ];
            
            const now = new Date();
            
            cities.forEach(city => {
                const cityTime = new Date(now.getTime() + (city.offset * 60 * 60 * 1000));
                
                const timeString = cityTime.toUTCString().split(' ')[4];
                const dateString = cityTime.toLocaleDateString('en-US', { 
                    weekday: 'short', 
                    year: 'numeric', 
                    month: 'short', 
                    day: 'numeric' 
                });
                
                document.getElementById(`time-${city.id}`).textContent = timeString;
                document.getElementById(`date-${city.id}`).textContent = dateString;
            });
        }
        
        // Update clocks every second
        setInterval(updateClocks, 1000);
        updateClocks(); // Initial call
        
        // ===========================================
        // LANGUAGE SELECTOR
        // ===========================================
        const languageBtn = document.querySelector('.language-btn');
        const languageMenu = document.querySelector('.language-menu');
        
        languageBtn.addEventListener('click', (e) => {
            e.stopPropagation();
            languageMenu.style.display = languageMenu.style.display === 'block' ? 'none' : 'block';
        });
        
        // Close language menu when clicking outside
        document.addEventListener('click', (e) => {
            if (!e.target.closest('.language-selector')) {
                languageMenu.style.display = 'none';
            }
        });
        
        // Close language menu when clicking on a language option
        document.querySelectorAll('.language-menu a').forEach(link => {
            link.addEventListener('click', () => {
                languageMenu.style.display = 'none';
            });
        });
    </script>
</body>
</html>
